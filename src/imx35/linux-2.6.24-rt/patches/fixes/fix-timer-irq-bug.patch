Freescale's latest kernel with CONFIG_PREEMPT_RT can boot up.
The cause is system ticket timer will setup irq before calling
init_hardirqs.
So the thread of ticket timer has been created. But during init_hardirqs,
it will been created again. I just modify our MSL code to setup ticket
irq with IRQF_NODELAY flag. Now our latest kernel can work with RT-patch.

Created-by: Fan YeFeng <r01011@freescale.com>

A timer interrupt should by design provide the IRQF_TIMER flag.
This flag will include IRQF_NODELAY on preempt-RT and make it start
with the correct settings on RT and non-RT.

Signed-off-by: Remy Bohmer <linux@bohmer.net>

Index: linux-2.6.24/arch/arm/plat-mxc/time.c
===================================================================
--- linux-2.6.24.orig/arch/arm/plat-mxc/time.c	2009-01-25 00:09:06.000000000 +0100
+++ linux-2.6.24/arch/arm/plat-mxc/time.c	2009-01-25 00:09:57.000000000 +0100
@@ -180,7 +180,7 @@
  */
 static struct irqaction timer_irq = {
 	.name = "gpt-irq",
-	.flags = IRQF_DISABLED,
+	.flags = IRQF_DISABLED | IRQF_TIMER,
 	.handler = mxc_timer_interrupt,
 };
 
