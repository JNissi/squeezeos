From 37765aa08b5a973c9dcfe598c47750fdfbeca168 Mon Sep 17 00:00:00 2001
From: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date: Wed, 3 Dec 2008 17:27:33 +0200
Subject: [PATCH] UBIFS: kill COMPATNULL

Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
---
 fs/ubifs/debug.h |    4 ----
 fs/ubifs/super.c |    2 +-
 2 files changed, 1 insertions(+), 5 deletions(-)

diff --git a/fs/ubifs/debug.h b/fs/ubifs/debug.h
index 001bb95..9820d69 100644
--- a/fs/ubifs/debug.h
+++ b/fs/ubifs/debug.h
@@ -462,8 +462,4 @@ void dbg_debugfs_exit_fs(struct ubifs_info *c);
 #define dbg_debugfs_exit_fs(c)                     0
 
 #endif /* !CONFIG_UBIFS_FS_DEBUG */
-
-/* Compatibility stuff */
-#define UBIFSCOMPATNULL
-
 #endif /* !__UBIFS_DEBUG_H__ */
diff --git a/fs/ubifs/super.c b/fs/ubifs/super.c
index 050f927..08cd56e 100644
--- a/fs/ubifs/super.c
+++ b/fs/ubifs/super.c
@@ -2085,7 +2085,7 @@ static int __init ubifs_init(void)
 	ubifs_inode_slab = kmem_cache_create("ubifs_inode_slab",
 				sizeof(struct ubifs_inode), 0,
 				SLAB_MEM_SPREAD | SLAB_RECLAIM_ACCOUNT,
-				&inode_slab_ctor UBIFSCOMPATNULL);
+				&inode_slab_ctor);
 	if (!ubifs_inode_slab)
 		goto out_reg;
 
-- 
1.5.6.3

