From f47d63bdfca5c36e8b4259b79706a55dcef943af Mon Sep 17 00:00:00 2001
From: Jason Liu <r64343@freescale.com>
Date: Thu, 20 Mar 2008 07:40:49 -0500
Subject: [PATCH] ENGR00069364 Adjust nand partition table to accommodate with redboot

Adjust nand partition table to accommodate with redboot

Signed-off-by: Jason Liu <r64343@freescale.com>
---
 arch/arm/mach-mx21/mx21ads.c     |    8 ++++----
 arch/arm/mach-mx27/mx27ads.c     |    6 +++---
 arch/arm/mach-mx3/mx31ads.c      |    6 +++---
 arch/arm/mach-mx3/mx3_3stack.c   |    6 +++---
 arch/arm/mach-mx37/mx37_3stack.c |    2 +-
 5 files changed, 14 insertions(+), 14 deletions(-)

diff --git a/arch/arm/mach-mx21/mx21ads.c b/arch/arm/mach-mx21/mx21ads.c
index 9fa23b2..a1c560d 100644
--- a/arch/arm/mach-mx21/mx21ads.c
+++ b/arch/arm/mach-mx21/mx21ads.c
@@ -1,7 +1,7 @@
 /*
  *  Copyright (C) 2000 Deep Blue Solutions Ltd
  *  Copyright (C) 2002 Shane Nay (shane@minirl.com)
- *  Copyright 2007 Freescale Semiconductor, Inc. All Rights Reserved.
+ *  Copyright 2008 Freescale Semiconductor, Inc. All Rights Reserved.
  *
  * This program is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by
@@ -200,13 +200,13 @@ static void mxc_init_nor_mtd(void)
 
 static struct mtd_partition mxc_nand_partitions[4] = {
 	{
-	 .name = "IPL-SPL",
+	 .name = "nand.bootloader",
 	 .offset = 0,
-	 .size = 128 * 1024},
+	 .size = 1024 * 1024},
 	{
 	 .name = "nand.kernel",
 	 .offset = MTDPART_OFS_APPEND,
-	 .size = 4 * 1024 * 1024},
+	 .size = 5 * 1024 * 1024},
 	{
 	 .name = "nand.rootfs",
 	 .offset = MTDPART_OFS_APPEND,
diff --git a/arch/arm/mach-mx27/mx27ads.c b/arch/arm/mach-mx27/mx27ads.c
index 0fdca14..cc4525a 100644
--- a/arch/arm/mach-mx27/mx27ads.c
+++ b/arch/arm/mach-mx27/mx27ads.c
@@ -239,13 +239,13 @@ static void mxc_init_nor_mtd(void)
 
 static struct mtd_partition mxc_nand_partitions[4] = {
 	{
-	 .name = "IPL-SPL",
+	 .name = "nand.bootloader",
 	 .offset = 0,
-	 .size = 128 * 1024},
+	 .size = 1024 * 1024},
 	{
 	 .name = "nand.kernel",
 	 .offset = MTDPART_OFS_APPEND,
-	 .size = 4 * 1024 * 1024},
+	 .size = 5 * 1024 * 1024},
 	{
 	 .name = "nand.rootfs",
 	 .offset = MTDPART_OFS_APPEND,
diff --git a/arch/arm/mach-mx3/mx31ads.c b/arch/arm/mach-mx3/mx31ads.c
index 9566cdc..6568fb0 100644
--- a/arch/arm/mach-mx3/mx31ads.c
+++ b/arch/arm/mach-mx3/mx31ads.c
@@ -285,13 +285,13 @@ static void mxc_init_nor_mtd(void)
 
 static struct mtd_partition mxc_nand_partitions[4] = {
 	{
-	 .name = "IPL-SPL",
+	 .name = "nand.bootloader",
 	 .offset = 0,
-	 .size = 256 * 1024},
+	 .size = 1024 * 1024},
 	{
 	 .name = "nand.kernel",
 	 .offset = MTDPART_OFS_APPEND,
-	 .size = 4 * 1024 * 1024},
+	 .size = 5 * 1024 * 1024},
 	{
 	 .name = "nand.rootfs",
 	 .offset = MTDPART_OFS_APPEND,
diff --git a/arch/arm/mach-mx3/mx3_3stack.c b/arch/arm/mach-mx3/mx3_3stack.c
index 8299de4..5aa22a5 100644
--- a/arch/arm/mach-mx3/mx3_3stack.c
+++ b/arch/arm/mach-mx3/mx3_3stack.c
@@ -132,13 +132,13 @@ static inline void mxc_init_keypad(void)
 
 static struct mtd_partition mxc_nand_partitions[] = {
 	{
-	 .name = "IPL-SPL",
+	 .name = "nand.bootloader",
 	 .offset = 0,
-	 .size = 256 * 1024},
+	 .size = 1024 * 1024},
 	{
 	 .name = "nand.kernel",
 	 .offset = MTDPART_OFS_APPEND,
-	 .size = 4 * 1024 * 1024},
+	 .size = 5 * 1024 * 1024},
 	{
 	 .name = "nand.rootfs",
 	 .offset = MTDPART_OFS_APPEND,
diff --git a/arch/arm/mach-mx37/mx37_3stack.c b/arch/arm/mach-mx37/mx37_3stack.c
index 392295a..50119bf 100644
--- a/arch/arm/mach-mx37/mx37_3stack.c
+++ b/arch/arm/mach-mx37/mx37_3stack.c
@@ -78,7 +78,7 @@ void board_ref_clk_rate(unsigned long *ckil, unsigned long *osc,
 
 static struct mtd_partition mxc_nand_partitions[] = {
 	{
-	 .name = "bootloader",
+	 .name = "nand.bootloader",
 	 .offset = 0,
 	 .size = 2 * 1024 * 1024},
 	{
-- 
1.5.4.4

