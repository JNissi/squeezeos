From 018cdffb4a1140d07d06833402e22e714aa257e2 Mon Sep 17 00:00:00 2001
From: Eric Chen <xinyu.chen@freescale.com>
Date: Fri, 29 Feb 2008 10:42:55 +0800
Subject: [PATCH] ENGR00064487 MX31 3DS keypad

keypad change for MX31 3DS board

Signed-off-by: Eric Chen <xinyu.chen@freescale.com>
---
 drivers/input/keyboard/mxc_keyb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/input/keyboard/mxc_keyb.c b/drivers/input/keyboard/mxc_keyb.c
index 13d3760..1cbece6 100644
--- a/drivers/input/keyboard/mxc_keyb.c
+++ b/drivers/input/keyboard/mxc_keyb.c
@@ -1,5 +1,5 @@
 /*
- * Copyright 2004-2007 Freescale Semiconductor, Inc. All Rights Reserved.
+ * Copyright 2004-2008 Freescale Semiconductor, Inc. All Rights Reserved.
  */
 
 /*
@@ -287,7 +287,7 @@ static int mxc_kpp_scan_matrix(void)
 		 * 4. Configure columns as open-drain
 		 */
 		reg_val = __raw_readw(KPCR);
-		reg_val |= ((1 << MAXCOL) - 1) << 8;
+		reg_val |= ((1 << kpp_dev.kpp_cols) - 1) << 8;
 		__raw_writew(reg_val, KPCR);
 
 		/*
-- 
1.5.4.4

