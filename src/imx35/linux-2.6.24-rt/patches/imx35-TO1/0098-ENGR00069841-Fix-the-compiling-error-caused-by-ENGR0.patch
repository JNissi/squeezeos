From 327119b81b239abe28edc0736ac44fe0729664a9 Mon Sep 17 00:00:00 2001
From: Wallace Wang <r59996@freescale.com>
Date: Tue, 25 Mar 2008 16:11:21 +0800
Subject: [PATCH] ENGR00069841 Fix the compiling error caused by ENGR00068611

missed including a header file

Signed-off-by: Wallace Wang <r59996@freescale.com>
---
 arch/arm/mach-mx27/devices.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-mx27/devices.c b/arch/arm/mach-mx27/devices.c
index d21ad6a..d00f708 100644
--- a/arch/arm/mach-mx27/devices.c
+++ b/arch/arm/mach-mx27/devices.c
@@ -15,6 +15,7 @@
 #include <linux/kernel.h>
 #include <linux/init.h>
 #include <linux/platform_device.h>
+#include <linux/clk.h>
 
 #include <linux/spi/spi.h>
 
@@ -437,9 +438,9 @@ static struct platform_device mxc_alsa_device = {
 static void mxc_init_audio(void)
 {
 	mxc_audio_data.ssi_clk[0] = clk_get(NULL, "ssi_clk.0");
-	clk_put(audio_data->ssi_clk[0]);
+	clk_put(mxc_audio_data.ssi_clk[0]);
 	mxc_audio_data.ssi_clk[1] = clk_get(NULL, "ssi_clk.1");
-	clk_put(audio_data->ssi_clk[1]);
+	clk_put(mxc_audio_data.ssi_clk[1]);
 	mxc_audio_data.ssi_num = 2;
 	mxc_audio_data.src_port = 0;
 	platform_device_register(&mxc_alsa_device);
-- 
1.5.4.4

