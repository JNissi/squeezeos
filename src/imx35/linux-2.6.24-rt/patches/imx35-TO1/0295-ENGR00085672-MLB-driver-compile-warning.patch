From 070fa54bd7fcf938589bc362a0a62c41b636fc4a Mon Sep 17 00:00:00 2001
From: Xinyu Chen <xinyu.chen@freescale.com>
Date: Tue, 29 Jul 2008 16:47:40 +0800
Subject: [PATCH] ENGR00085672 MLB driver compile warning

Fix compile warning: ISO C90 forbids mixed declarations and code

Signed-off-by: Xinyu Chen <xinyu.chen@freescale.com>
---
 drivers/mxc/mlb/mxc_mlb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/mxc/mlb/mxc_mlb.c b/drivers/mxc/mlb/mxc_mlb.c
index ac9dfd2..d7d3f45 100644
--- a/drivers/mxc/mlb/mxc_mlb.c
+++ b/drivers/mxc/mlb/mxc_mlb.c
@@ -678,6 +678,7 @@ static ssize_t mxc_mlb_write(struct file *filp, const char __user *buf,
 {
 	int minor;
 	unsigned long flags;
+	DEFINE_WAIT(__wait);
 	int ret;
 
 	minor = MINOR(filp->f_dentry->d_inode->i_rdev);
@@ -700,7 +701,6 @@ static ssize_t mxc_mlb_write(struct file *filp, const char __user *buf,
 			return -EAGAIN;
 
 		/* if !O_NONBLOCK, we wait for transmit finish */
-		DEFINE_WAIT(__wait);
 		for (;;) {
 			prepare_to_wait(&mlb_devinfo[minor].wt_wq,
 					&__wait, TASK_INTERRUPTIBLE);
-- 
1.5.4.4

