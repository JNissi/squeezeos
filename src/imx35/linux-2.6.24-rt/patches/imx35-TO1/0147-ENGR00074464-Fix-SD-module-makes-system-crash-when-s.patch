From f5e011cda199c05f25e217c33974dfae9940c8d8 Mon Sep 17 00:00:00 2001
From: Fred Fan <r01011@freescale.com>
Date: Sat, 26 Apr 2008 17:49:10 +0800
Subject: [PATCH] ENGR00074464 Fix SD module makes system crash when system enters suspend mode

use right parameter when calling mxc_free_iomux

Signed-off-by: Fred Fan <r01011@freescale.com>
---
 arch/arm/mach-mx3/mx3_3stack_gpio.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/arm/mach-mx3/mx3_3stack_gpio.c b/arch/arm/mach-mx3/mx3_3stack_gpio.c
index fe6bf63..2d2e61b 100644
--- a/arch/arm/mach-mx3/mx3_3stack_gpio.c
+++ b/arch/arm/mach-mx3/mx3_3stack_gpio.c
@@ -487,17 +487,17 @@ void gpio_sdhc_inactive(int module)
 		mxc_request_gpio(MX31_PIN_SD1_DATA3);
 
 		mxc_free_iomux(MX31_PIN_SD1_CLK, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 		mxc_free_iomux(MX31_PIN_SD1_CMD, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 		mxc_free_iomux(MX31_PIN_SD1_DATA0, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 		mxc_free_iomux(MX31_PIN_SD1_DATA1, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 		mxc_free_iomux(MX31_PIN_SD1_DATA2, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 		mxc_free_iomux(MX31_PIN_SD1_DATA3, OUTPUTCONFIG_GPIO,
-			       INPUTCONFIG_NONE);
+			       INPUTCONFIG_GPIO);
 
 		mxc_iomux_set_pad(MX31_PIN_SD1_CLK,
 				  (PAD_CTL_DRV_NORMAL | PAD_CTL_SRE_SLOW));
-- 
1.5.4.4

