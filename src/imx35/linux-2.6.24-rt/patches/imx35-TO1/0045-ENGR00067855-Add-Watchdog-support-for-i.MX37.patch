From ba7a350a88c00594dc6c362522ab5a4e759f3b3c Mon Sep 17 00:00:00 2001
From: Mahesh Mahadevan <r9aadq@freescale.com>
Date: Wed, 5 Mar 2008 16:08:09 -0600
Subject: [PATCH] ENGR00067855 Add Watchdog support for i.MX37

Enable the WatchDog Driver for i.MX37 Platform

Signed-off-by: Mahesh Mahadevan <r9aadq@freescale.com>
---
 arch/arm/configs/imx37_3stack_defconfig |   45 +++++++++++++++++++-----------
 1 files changed, 28 insertions(+), 17 deletions(-)

diff --git a/arch/arm/configs/imx37_3stack_defconfig b/arch/arm/configs/imx37_3stack_defconfig
index 4bea3b2..426a8d6 100644
--- a/arch/arm/configs/imx37_3stack_defconfig
+++ b/arch/arm/configs/imx37_3stack_defconfig
@@ -175,6 +175,7 @@ CONFIG_ARCH_MXC_HAS_NFC_V3_1=y
 #
 CONFIG_MXC_TZIC=y
 CONFIG_ARCH_HAS_EVTMON=y
+CONFIG_DMA_ZONE_SIZE=24
 
 #
 # Processor Type
@@ -373,21 +374,6 @@ CONFIG_FW_LOADER=m
 # CONFIG_SYS_HYPERVISOR is not set
 CONFIG_CONNECTOR=y
 CONFIG_PROC_EVENTS=y
-
-#
-# Power Management IC's
-#
-CONFIG_REGULATOR=y
-CONFIG_REGULATOR_DEBUG is not set
-CONFIG_REGULATOR_WM8350=y
-
-#
-# WM8350 Config Mode
-#
-CONFIG_PMIC_WM8350_MODE_0=y
-# CONFIG_PMIC_WM8350_MODE_1 is not set
-# CONFIG_PMIC_WM8350_MODE_2 is not set
-# CONFIG_PMIC_WM8350_MODE_3 is not set
 CONFIG_MTD=y
 # CONFIG_MTD_DEBUG is not set
 # CONFIG_MTD_CONCAT is not set
@@ -473,7 +459,18 @@ CONFIG_MTD_NAND_MXC_V3=y
 #
 # Voltage and Current regulators
 #
-# CONFIG_REGULATOR is not set
+CONFIG_REGULATOR_API=y
+CONFIG_REGULATOR=y
+# CONFIG_REGULATOR_DEBUG is not set
+CONFIG_REGULATOR_WM8350=y
+
+#
+# WM8350 Config Mode
+#
+CONFIG_PMIC_WM8350_MODE_0=y
+# CONFIG_PMIC_WM8350_MODE_1 is not set
+# CONFIG_PMIC_WM8350_MODE_2 is not set
+# CONFIG_PMIC_WM8350_MODE_3 is not set
 # CONFIG_PARPORT is not set
 # CONFIG_PNP is not set
 CONFIG_BLK_DEV=y
@@ -744,7 +741,21 @@ CONFIG_SPI_MXC_SELECT2=y
 # CONFIG_W1 is not set
 # CONFIG_POWER_SUPPLY is not set
 # CONFIG_HWMON is not set
-# CONFIG_WATCHDOG is not set
+CONFIG_WATCHDOG=y
+CONFIG_WATCHDOG_NOWAYOUT=y
+
+#
+# Watchdog Device Drivers
+#
+# CONFIG_SOFT_WATCHDOG is not set
+CONFIG_MXC_WATCHDOG=y
+
+#
+# ISA-based Watchdog Cards
+#
+# CONFIG_PCWATCHDOG is not set
+# CONFIG_MIXCOMWD is not set
+# CONFIG_WDT is not set
 
 #
 # Sonics Silicon Backplane
-- 
1.5.4.4

