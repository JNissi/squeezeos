From ebf66a523d6a6355028e4ec17b1a5c5f5dbdb9ce Mon Sep 17 00:00:00 2001
From: Jason Chen <b02280@freescale.com>
Date: Tue, 20 May 2008 18:14:59 +0800
Subject: [PATCH] ENGR00076899 Fix V4L set positon issue

FG's position only can be set at first time.

Signed-off-by: Jason Chen <b02280@freescale.com>
---
 drivers/video/mxc/mxc_ipuv3_fb.c    |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/drivers/video/mxc/mxc_ipuv3_fb.c b/drivers/video/mxc/mxc_ipuv3_fb.c
index 32f1421..96baa25 100644
--- a/drivers/video/mxc/mxc_ipuv3_fb.c
+++ b/drivers/video/mxc/mxc_ipuv3_fb.c
@@ -239,10 +239,9 @@ static int mxcfb_set_par(struct fb_info *fbi)
 		fbi->mode =
 		    (struct fb_videomode *)fb_match_mode(&fbi->var,
 							 &fbi->modelist);
+		ipu_disp_set_window_pos(mxc_fbi->ipu_ch, 0, 0);
 	}
 
-	ipu_disp_set_window_pos(mxc_fbi->ipu_ch, 0, 0);
-
 	mxc_fbi->cur_ipu_buf = 0;
 	sema_init(&mxc_fbi->flip_sem, 1);
 
diff --git a/drivers/video/mxc/mxcfb.c b/drivers/video/mxc/mxcfb.c
old mode 100755
new mode 100644
diff --git a/drivers/video/mxc/mxcfb_epson_vga.c b/drivers/video/mxc/mxcfb_epson_vga.c
old mode 100755
new mode 100644
-- 
1.5.4.4

